To clean build the project, run the following command in your terminal:

from the root directory of the project:

gradle clean build

This command will remove any previous build artifacts and compile the project from scratch, ensuring that you have a fresh build.

To run the project after building, use the command:

gradle :railway-web:bootRun


steps to add new module in the project

create new module as same as railway-utils  example railway-payment

then include it in settings.gradle  (root project) like below

include ':railway-payment'

then add dependency in railway-web/build.gradle like below

implementation project(":railway-payment")



Example:

railway-root/
‚îú‚îÄ‚îÄ build.gradle              ‚Üê root project (manages versions)
‚îú‚îÄ‚îÄ settings.gradle
‚îÇ
‚îú‚îÄ‚îÄ railway-core/             ‚Üê core module (library)
‚îÇ   ‚îî‚îÄ‚îÄ build.gradle
‚îÇ
‚îî‚îÄ‚îÄ railway-web/              ‚Üê main Spring Boot app
    ‚îî‚îÄ‚îÄ build.gradle

üö´ Limitations of other modules (non-main / library modules)
‚ö†Ô∏è 1. Cannot apply the Spring Boot plugin
plugins {
    id 'org.springframework.boot'
}


‚ùå Don‚Äôt do this in railway-core or any shared module.
‚úÖ Only apply it in the main module (like railway-web).

Reason:
The Spring Boot plugin tries to create an executable JAR (bootJar) ‚Äî but library modules don‚Äôt have a main() or @SpringBootApplication.
That‚Äôs why you‚Äôd get:

> Main class name has not been configured and it could not be resolved from classpath

‚ö†Ô∏è 2. Cannot run independently

You can‚Äôt run the core module with:

./gradlew :railway-core:bootRun


It doesn‚Äôt have a main class.
It only contains code (entities, repositories, services) reused by the main web module.

‚úÖ Correct usage:

implementation project(":railway-core")


in the web module‚Äôs build.gradle.

‚ö†Ô∏è 3. Limited access to configuration files

Only the main module (railway-web) loads application.yml, application-dev.yml, etc.

The core module cannot have its own application.yml that gets automatically read.

‚úÖ Workaround:
If the core module needs some config, expose it via Spring‚Äôs @ConfigurationProperties in the main module or use environment properties passed from the main app.

‚ö†Ô∏è 4. No embedded server

Non-main modules cannot start an embedded Tomcat, Jetty, or Undertow.
The main SpringBootApplication (in the web module) starts and manages the web server.

‚ö†Ô∏è 5. Classpath restrictions

Library modules depend only on what is declared in their own build.gradle ‚Äî they don‚Äôt inherit dependencies from other modules unless explicitly declared in the root or dependency management.

‚úÖ Declare needed dependencies explicitly:

// railway-core/build.gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
}

‚ö†Ô∏è 6. No direct static resources or templates served

If your library module has files like /templates/*.html or /static/js/app.js, they will not be automatically served.
Only the main web module (spring-boot-starter-web + Boot plugin) serves static and template resources.

‚úÖ Keep web-related files only inside the web module.

‚ö†Ô∏è 7. Can‚Äôt override Boot auto-configuration

Spring Boot scans packages relative to your @SpringBootApplication class.

That means if your main class is:

com.india.railway.IndianRailwayApplication


Spring scans only com.india.railway.* packages.

‚úÖ So, ensure your core code (entities, repositories) also lives under this base package (e.g., com.india.railway.core).

Otherwise, you‚Äôd need:

@SpringBootApplication(scanBasePackages = "com.india")

‚ö†Ô∏è 8. Dependency cycle caution

Avoid mutual dependencies between modules:

railway-core ‚Üí railway-web ‚ùå
railway-web ‚Üí railway-core ‚úÖ


Cyclic dependencies cause Gradle build errors and runtime classpath conflicts.

‚ö†Ô∏è 9. No profile-specific beans in library modules

Since only the main module activates Spring profiles (dev, prod), beans annotated like this:

@Profile("dev")


inside library modules will only work if those profiles are activated by the main app.
They can‚Äôt control profile activation themselves.

‚ö†Ô∏è 10. Testing limitation

You can run tests per module:

./gradlew :railway-core:test


‚úÖ Works fine.
But only the main module‚Äôs tests can start the full Spring Boot context.


